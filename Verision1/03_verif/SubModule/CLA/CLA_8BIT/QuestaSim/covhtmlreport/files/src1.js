var g_data = {"name":"/home/noname/Documents/project_tiny/Floating_point/Verision1/03_verif/SubModule/CLA/CLA_8BIT/tb_CLA_8bit.sv","src":"`timescale 1ns/1ps\n\nmodule tb_CLA_8bit();\n\nlogic i_clk, i_rst_n;\nlogic [7:0]     i_data_a;\nlogic [7:0]     i_data_b;\nlogic           i_carry;\nlogic [7:0]     o_sum;\nlogic           o_carry;\nlogic [8:0]     w_expect;\n\nint test_count = 0;\nint test_pass  = 0;\n\n// ================= CLOCK ================= //\ninitial begin\n    i_clk = 1'b0;\n    forever #5 i_clk = ~i_clk;  // 100 MHz\nend\n\n// ================= DUMP WAVE ================= //\ninitial begin\n    $dumpfile(\"tb_CLA_8bit.vcd\");\n    $dumpvars(0, tb_CLA_8bit);\nend\n\n// ================= DUT ================= //\nCLA_8bit DUT (\n    .i_carry    (i_carry),\n    .i_data_a   (i_data_a),\n    .i_data_b   (i_data_b),\n    .o_sum      (o_sum),\n    .o_carry    (o_carry)\n);\n\n// ================= FUNCTION: Golden Reference ================= //\nfunction automatic [8:0] f_CLA_expected(\n    input logic [7:0] f_a,\n    input logic [7:0] f_b,\n    input logic       f_cin\n);\n    begin\n        f_CLA_expected = f_a + f_b + f_cin;\n    end\nendfunction\n\n// ================= DISPLAY TASK ================= //\ntask automatic Display_Result(\n    string t_type,\n    input logic [7:0] t_a,\n    input logic [7:0] t_b,\n    input logic       t_cin,\n    input logic [7:0] t_sum,\n    input logic       t_cout\n);\n    begin\n        $display(\"[%s] a=%b (%0d), b=%b (%0d), cin=%b  =>  sum=%b (%0d), o_cout=%b\",\n                 t_type, t_a, t_a, t_b, t_b, t_cin, t_sum, t_sum, t_cout);\n    end\nendtask\n\n// ================= TEST SEQUENCE ================= //\ninitial begin\n    i_rst_n = 0;\n    i_data_a = 0;\n    i_data_b = 0;\n    i_carry  = 0;\n    #20;\n    i_rst_n = 1;\n    #10;\n\n    $display(\"\\n=== START CLA 4-bit TEST ===\\n\");\n\n    @(posedge i_clk);\n            i_data_a   = 8'h00;\n            i_data_b   = 8'h00;\n            i_carry    = 1'b1;\n            #1;\n            w_expect = f_CLA_expected(i_data_a, i_data_b, i_carry);\n            Display_Result(\"Direcly\", i_data_a, i_data_b, i_carry, o_sum, o_carry);\n            $display(\"=> %s: expect=%05b, dut={o_g,sum}=%05b\", (w_expect == {o_carry, o_sum}) ? \"PASS\" : \"FAIL\", w_expect, {o_carry, o_sum});\n            test_count++;\n            if (w_expect == {o_carry, o_sum}) test_pass++;\n\n    @(posedge i_clk);\n            i_data_a   = 8'hFF;\n            i_data_b   = 8'h00;\n            i_carry    = 1'b1;\n            #1;\n            w_expect = f_CLA_expected(i_data_a, i_data_b, i_carry);\n            Display_Result(\"Direcly\", i_data_a, i_data_b, i_carry, o_sum, o_carry);\n            $display(\"=> %s: expect=%05b, dut={o_g,sum}=%05b\", (w_expect == {o_carry, o_sum}) ? \"PASS\" : \"FAIL\", w_expect, {o_carry, o_sum});\n            test_count++;\n            if (w_expect == {o_carry, o_sum}) test_pass++;\n\n    @(posedge i_clk);\n            i_data_a   = 8'hFF;\n            i_data_b   = 8'hFF;\n            i_carry    = 1'b1;\n            #1;\n            w_expect = f_CLA_expected(i_data_a, i_data_b, i_carry);\n            Display_Result(\"Direcly\", i_data_a, i_data_b, i_carry, o_sum, o_carry);\n            $display(\"=> %s: expect=%05b, dut={o_g,sum}=%05b\", (w_expect == {o_carry, o_sum}) ? \"PASS\" : \"FAIL\", w_expect, {o_carry, o_sum});\n            test_count++;\n            if (w_expect == {o_carry, o_sum}) test_pass++;\n\n    // --- Test random cases ---\n    repeat (100) begin\n        @(posedge i_clk);\n            i_data_a   = $urandom_range(0, 31);\n            i_data_b   = $urandom_range(0, 31);\n            i_carry    = $urandom_range(0, 1);\n            #1;\n            w_expect = f_CLA_expected(i_data_a, i_data_b, i_carry);\n            Display_Result(\"Random\", i_data_a, i_data_b, i_carry, o_sum, o_carry);\n            $display(\"=> %s: expect=%05b, dut={o_g,sum}=%05b\", (w_expect == {o_carry, o_sum}) ? \"PASS\" : \"FAIL\", w_expect, {o_carry, o_sum});\n            test_count++;\n            if (w_expect == {o_carry, o_sum}) test_pass++;\n    end\n\n    // --- Summary ---\n    #10;\n    $display(\"\\n================================\");\n    $display(\"========== TEST SUMMARY ==========\");\n    $display(\"Total test cases: %6d\", test_count);\n    $display(\"Passed          : %6d\", test_pass);\n    $display(\"Failed          : %6d\", test_count - test_pass);\n    $display(\"Pass rate       : %0.2f%%\", (test_pass * 100.0) / test_count);\n    $display(\"================================\\n\");\n\n    #50;\n    $finish;\nend\n\nendmodule\n","lang":"verilog"};
processSrcData(g_data);