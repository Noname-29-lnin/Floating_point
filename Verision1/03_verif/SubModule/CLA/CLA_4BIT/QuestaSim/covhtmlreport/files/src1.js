var g_data = {"name":"/home/noname/Documents/project_tiny/Floating_point/Verision1/03_verif/SubModule/CLA/CLA_4BIT/tb_CLA_4bit.sv","src":"`timescale 1ns/1ps\n\nmodule tb_CLA_4bit();\n\nlogic i_clk, i_rst_n;\nlogic [3:0]     a;\nlogic [3:0]     b;\nlogic           cin;\nlogic [3:0]     sum;\nlogic           o_p;\nlogic           o_g;\nlogic [4:0]     w_expect;\n\nint test_count = 0;\nint test_pass  = 0;\n\n// ================= CLOCK ================= //\ninitial begin\n    i_clk = 1'b0;\n    forever #5 i_clk = ~i_clk;  // 100 MHz\nend\n\n// ================= DUMP WAVE ================= //\ninitial begin\n    $dumpfile(\"tb_CLA_4bit.vcd\");\n    $dumpvars(0, tb_CLA_4bit);\nend\n\n// ================= DUT ================= //\nCLA_4bit DUT (\n    .a      (a),\n    .b      (b),\n    .cin    (cin),\n    .sum    (sum),\n    .o_p    (o_p),\n    .o_g    (o_g)\n);\n\n// ================= FUNCTION: Golden Reference ================= //\nfunction automatic [4:0] f_CLA_expected(\n    input logic [3:0] f_a,\n    input logic [3:0] f_b,\n    input logic       f_cin\n);\n    begin\n        f_CLA_expected = f_a + f_b + f_cin;\n    end\nendfunction\n\n// ================= DISPLAY TASK ================= //\ntask automatic Display_Result(\n    string t_type,\n    input logic [3:0] t_a,\n    input logic [3:0] t_b,\n    input logic       t_cin,\n    input logic [3:0] t_sum,\n    input logic       t_pg,\n    input logic       t_gg\n);\n    begin\n        $display(\"[%s] a=%b (%0d), b=%b (%0d), cin=%b  =>  sum=%b (%0d), o_p=%b, o_g=%b\",\n                 t_type, t_a, t_a, t_b, t_b, t_cin, t_sum, t_sum, t_pg, t_gg);\n    end\nendtask\n\n// ================= TEST SEQUENCE ================= //\ninitial begin\n    i_rst_n = 0;\n    a   = 0;\n    b   = 0;\n    cin = 0;\n    #20;\n    i_rst_n = 1;\n    #10;\n\n    $display(\"\\n=== START CLA 4-bit TEST ===\\n\");\n\n    // --- Test random cases ---\n    repeat (100) begin\n        @(posedge i_clk);\n            a   = $urandom_range(0, 15);\n            b   = $urandom_range(0, 15);\n            cin = $urandom_range(0, 1);\n            #1;\n            w_expect = f_CLA_expected(a, b, cin);\n            Display_Result(\"Random\", a, b, cin, sum, o_p, o_g);\n            $display(\"=> %s: expect=%05b, dut={o_g,sum}=%05b\", (w_expect == {o_g,sum}) ? \"PASS\" : \"FAIL\", w_expect, {o_g,sum});\n            test_count++;\n            if (w_expect == {o_g,sum}) test_pass++;\n    end\n\n    // --- Summary ---\n    #10;\n    $display(\"\\n================================\");\n    $display(\"========== TEST SUMMARY ==========\");\n    $display(\"Total test cases: %6d\", test_count);\n    $display(\"Passed          : %6d\", test_pass);\n    $display(\"Failed          : %6d\", test_count - test_pass);\n    $display(\"Pass rate       : %0.2f%%\", (test_pass * 100.0) / test_count);\n    $display(\"================================\\n\");\n\n    #50;\n    $finish;\nend\n\nendmodule\n","lang":"verilog"};
processSrcData(g_data);