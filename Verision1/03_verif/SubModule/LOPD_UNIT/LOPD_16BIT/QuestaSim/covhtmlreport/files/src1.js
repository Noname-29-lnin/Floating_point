var g_data = {"name":"/home/noname/Documents/project_tiny/Floating_point/Verision1/03_verif/SubModule/LOPD_UNIT/LOPD_16BIT/tb_LOPD_16bit.sv","src":"`timescale 1ns/1ps\n\nmodule tb_LOPD_16bit();\n\n    // ================= PARAMETERS ================= //\n    parameter SIZE_DATA = 16;\n    parameter SIZE_POS  = 4; // log2(16) = 4\n\n    // ================= SIGNALS ================= //\n    logic [SIZE_DATA-1:0] i_data;\n    logic [SIZE_POS-1:0]  o_pos_one;\n    logic                 o_zero_flag;\n\n    logic [SIZE_POS-1:0]  w_expect_pos;\n    logic                 w_expect_zero;\n\n    int test_count = 0;\n    int test_pass  = 0;\n\n    // ================= DUT ================= //\n    LOPD_16bit DUT (\n        .i_data(i_data),\n        .o_pos_one(o_pos_one),\n        .o_zero_flag(o_zero_flag)\n    );\n\n    // ================= DUMP WAVE ================= //\n    initial begin\n        $dumpfile(\"tb_LOPD_16bit.vcd\");\n        $dumpvars(0, tb_LOPD_16bit);\n    end\n\n    // ================= FUNCTION: Reference Model ================= //\n    function automatic void f_find_LOPD(\n        input  logic [SIZE_DATA-1:0] f_i_data,\n        output logic [SIZE_POS-1:0]  f_o_pos_one,\n        output logic                 f_o_zero_flag\n    );\n        int pos;\n        begin\n            if (f_i_data == 0) begin\n                f_o_pos_one   = 0;\n                f_o_zero_flag = 1;\n            end else begin\n                // Find position of leading '1' from MSB → LSB\n                for (pos = SIZE_DATA-1; pos >= 0; pos--) begin\n                    if (f_i_data[pos]) begin\n                        f_o_pos_one   = SIZE_DATA-1 - pos; // encode distance from MSB\n                        f_o_zero_flag = 0;\n                        break;\n                    end\n                end\n            end\n        end\n    endfunction\n\n    // ================= TASK: Display & Compare ================= //\n    task automatic Check_Result(\n        input string t_name,\n        input logic [SIZE_DATA-1:0] t_data,\n        input logic [SIZE_POS-1:0] exp_pos,\n        input logic                 exp_zero,\n        input logic [SIZE_POS-1:0] dut_pos,\n        input logic                 dut_zero\n    );\n        string result;\n        result = ((exp_pos == dut_pos) && (exp_zero == dut_zero)) ? \"PASS\" : \"FAIL\";\n        $display(\"[%s] data=%b => expect(pos=%0d, zero=%b), dut(pos=%0d, zero=%b) => %s\",\n                 t_name, t_data, exp_pos, exp_zero, dut_pos, dut_zero, result);\n        test_count++;\n        if (result == \"PASS\") test_pass++;\n    endtask\n\n    // ================= TEST SEQUENCE ================= //\n    initial begin\n        $display(\"\\n=== START 8-bit LEADING ONE POSITION DETECTOR TEST ===\\n\");\n\n        // --- Deterministic test patterns (0 → 255) ---\n        for (int i = 0; i < (1 << SIZE_DATA); i++) begin\n            i_data = i[SIZE_DATA-1:0];\n            #1;\n            f_find_LOPD(i_data, w_expect_pos, w_expect_zero);\n            Check_Result(\"Fixed\", i_data, w_expect_pos, w_expect_zero, o_pos_one, o_zero_flag);\n        end\n\n        // --- Random test cases ---\n        repeat (10) begin\n            i_data = $urandom_range(0, (1 << SIZE_DATA) - 1);\n            #1;\n            f_find_LOPD(i_data, w_expect_pos, w_expect_zero);\n            Check_Result(\"Random\", i_data, w_expect_pos, w_expect_zero, o_pos_one, o_zero_flag);\n        end\n\n        // --- Summary ---\n        #5;\n        $display(\"\\n================================\");\n        $display(\"========== TEST SUMMARY ==========\");\n        $display(\"Total test cases: %6d\", test_count);\n        $display(\"Passed          : %6d\", test_pass);\n        $display(\"Failed          : %6d\", test_count - test_pass);\n        $display(\"Pass rate       : %0.2f%%\", (test_pass * 100.0) / test_count);\n        $display(\"================================\\n\");\n\n        #10;\n        $finish;\n    end\n\nendmodule\n","lang":"verilog"};
processSrcData(g_data);